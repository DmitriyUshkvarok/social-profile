"use strict";(self.webpackChunksocial_profile=self.webpackChunksocial_profile||[]).push([[156],{2776:function(n,e,t){t.d(e,{Z:function(){return y}});var r,i,o,a,s,c,l,p=t(3623),u=t(168),x=t(5751),d=t(860),f=t(5880),h=t(8820),g=t(1087),Z=x.ZP.nav(r||(r=(0,u.Z)(["\n  position: fixed;\n  margin-left: auto;\n  margin-right: auto;\n  bottom: 10px;\n  left: 10px;\n  right: 10px;\n  z-index: 5;\n  background-color: rgba(0, 128, 0, 0.4);\n  box-shadow: 0px 0px 30px 10px rgba(10, 216, 244, 0.6);\n"]))),m=x.ZP.ul(i||(i=(0,u.Z)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]))),v=x.ZP.li(o||(o=(0,u.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),b=(0,x.ZP)(f.Mdg)(a||(a=(0,u.Z)(["\n  fill: currentColor;\n  transition: 0.4s;\n\n  &:hover {\n    color: aqua;\n  }\n"]))),j=(0,x.ZP)(h.Lfi)(s||(s=(0,u.Z)(["\n  fill: currentColor;\n  transition: 0.4s;\n\n  &:hover {\n    fill: aqua;\n  }\n"]))),w=(0,x.ZP)(d.Bv4)(c||(c=(0,u.Z)(["\n  fill: currentColor;\n  transition: 0.4s;\n\n  &:hover {\n    fill: aqua;\n  }\n"]))),P=(0,x.ZP)(g.OL)(l||(l=(0,u.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: gold;\n  border: 1px solid gold;\n  border-radius: 5px;\n  padding: 3px;\n  width: 100%;\n  transition: background-color 0.4s;\n\n  &:hover {\n    border-color: aqua;\n  }\n\n  &.active {\n    color: aqua;\n    border-color: aqua;\n\n    > ",", > ",", > "," {\n      fill: aqua;\n    }\n  }\n"])),b,j,w),k=t(184),y=function(){return(0,k.jsx)(p.Z,{children:(0,k.jsx)(Z,{children:(0,k.jsxs)(m,{children:[(0,k.jsx)(v,{children:(0,k.jsx)(P,{to:"/Home",children:(0,k.jsx)(b,{size:30})})}),(0,k.jsx)(v,{children:(0,k.jsx)(P,{to:"/create-post",children:(0,k.jsx)(j,{size:30})})}),(0,k.jsx)(v,{children:(0,k.jsx)(P,{to:"/Posts",children:(0,k.jsx)(w,{size:30})})})]})})})}},3623:function(n,e,t){t.d(e,{Z:function(){return s}});var r,i=t(168),o=t(5751).ZP.div(r||(r=(0,i.Z)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding-left: 10px;\n  padding-right: 10px;\n"]))),a=t(184),s=function(n){var e=n.children;return(0,a.jsx)(o,{children:e})}},156:function(n,e,t){t.r(e),t.d(e,{default:function(){return qn}});var r,i,o,a,s,c,l,p,u,x,d,f,h,g,Z,m,v,b,j,w,P,k,y,z,U=t(4942),q=t(1413),C=t(7762),A=t(5861),B=t(9439),I=t(4687),L=t.n(I),E=t(168),J=t(5751),R=t(7692),F=t(8820),N=t(6355),O=t(458),S=J.ZP.p(r||(r=(0,E.Z)(["\n  margin-top: 20px;\n  text-align: center;\n  font-weight: 500;\n  font-size: 35px;\n  line-height: 1.16;\n  letter-spacing: 0.01em;\n  color: green;\n  text-shadow: 1px 1px 10px orange;\n"]))),_=J.ZP.div(i||(i=(0,E.Z)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  right: 10px;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n  padding-top: 15px;\n  padding-bottom: 15px;\n  box-shadow: 0px 0px 30px 10px rgba(10, 216, 244, 0.2);\n"]))),G=J.ZP.h3(o||(o=(0,E.Z)(["\n  width: 100px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  text-transform: uppercase;\n  text-shadow: 0px 0px 20px #28a745;\n  color: #28a745;\n  letter-spacing: 2px;\n"]))),H=J.ZP.div(a||(a=(0,E.Z)(["\n  margin-right: 10px;\n  cursor: pointer;\n"]))),T=(0,J.ZP)(R.XqV)(s||(s=(0,E.Z)(["\n  fill: #28a745;\n  transition: 0.4s;\n\n  &:hover {\n    fill: #ff4c00;\n  }\n"]))),V=J.ZP.div(c||(c=(0,E.Z)(["\n  margin-top: 75px;\n  max-height: 600px;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 0.5em;\n    background-color: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: transparent;\n  }\n"]))),X=J.ZP.div(l||(l=(0,E.Z)(["\n  position: relative;\n  max-width: 250px;\n  height: 250px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n  padding: 5px;\n  background-image: var(--background-body);\n  border-radius: 25px;\n"]))),D=J.ZP.input(p||(p=(0,E.Z)(["\n  position: absolute;\n  opacity: 0;\n  width: 0;\n  height: 0;\n"]))),K=(0,J.ZP)(F._nT)(u||(u=(0,E.Z)(["\n  position: absolute;\n  bottom: 10px;\n  right: -15px;\n  fill: red;\n  cursor: pointer;\n"]))),M=J.ZP.button(x||(x=(0,E.Z)(["\n  position: absolute;\n  bottom: 10px;\n  border: none;\n  background-color: rgba(0, 0, 0, 0.4);\n  color: aqua;\n  font-weight: bold;\n  padding: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.7);\n    color: var(--color);\n  }\n"]))),Q=J.ZP.p(d||(d=(0,E.Z)(["\n  margin-top: 20px;\n  margin-bottom: 10px;\n  text-align: center;\n  font-weight: 500;\n  font-size: 30px;\n  line-height: 1.16;\n  letter-spacing: 0.01em;\n  color: aqua;\n  text-shadow: 0px 0px 10px #000;\n"]))),Y=J.ZP.img(f||(f=(0,E.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 20px;\n  box-shadow: 0px 0px 40px 10px rgba(10, 216, 244, 0.4);\n"]))),W=J.ZP.p(h||(h=(0,E.Z)(["\n  text-align: center;\n  font-size: 20px;\n  line-height: 1.16;\n  letter-spacing: 0.01em;\n  color: green;\n  text-shadow: 1px 1px 10px orange;\n  margin-bottom: 10px;\n"]))),$=J.ZP.ul(g||(g=(0,E.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 25px;\n  margin-bottom: 140px;\n"]))),nn=J.ZP.li(Z||(Z=(0,E.Z)(["\n  width: 100%;\n  max-width: 320px;\n  height: 320px;\n  border-radius: 10px;\n  box-shadow: 0px 0px 30px 10px rgba(10, 216, 244, 0.6);\n"]))),en=J.ZP.img(m||(m=(0,E.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 10px;\n"]))),tn=J.ZP.h3(v||(v=(0,E.Z)(["\n  margin-top: 2px;\n  margin-bottom: 5px;\n  font-size: 14px;\n  font-weight: 700;\n  color: gold;\n  text-shadow: 0px 0px 3px #000;\n"]))),rn=J.ZP.ul(b||(b=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n"]))),on=J.ZP.li(j||(j=(0,E.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n\n  &:first-child {\n    margin-right: 30px;\n  }\n\n  &:last-child {\n    margin-left: auto;\n  }\n"]))),an=J.ZP.span(w||(w=(0,E.Z)(["\n  margin-left: 5px;\n  font-size: 19px;\n  font-weight: bold;\n  text-shadow: 0px 0px 7px #000;\n  color: aqua;\n  letter-spacing: 2px;\n"]))),sn=J.ZP.span(P||(P=(0,E.Z)(["\n  margin-left: 5px;\n  font-size: 19px;\n  font-weight: bold;\n  text-shadow: 0px 0px 7px #000;\n  color: aqua;\n  letter-spacing: 2px;\n"]))),cn=(0,J.ZP)(N.DCG)(k||(k=(0,E.Z)(["\n  cursor: pointer;\n"]))),ln=(0,J.ZP)(F.L7p)(y||(y=(0,E.Z)(["\n  cursor: pointer;\n"]))),pn=(0,J.ZP)(O.v2c)(z||(z=(0,E.Z)(["\n  cursor: pointer;\n"]))),un=t(522),xn=t(9434),dn=t(7689),fn=t(1087),hn=t(1686),gn=t.n(hn),Zn=t(3623),mn=t(2776),vn=t(1014),bn=t(1289),jn=t(2791),wn=t(276),Pn=t(77),kn=t(2481),yn=t(4981),zn=t(9085),Un=t(184),qn=function(){var n=(0,jn.useState)([]),e=(0,B.Z)(n,2),t=e[0],r=e[1],i=(0,jn.useState)({}),o=(0,B.Z)(i,2),a=o[0],s=o[1],c=(0,jn.useState)({}),l=(0,B.Z)(c,2),p=l[0],u=l[1],x=(0,jn.useState)(null),d=(0,B.Z)(x,2),f=d[0],h=d[1],g=(0,xn.I0)(),Z=(0,dn.s0)(),m=(0,xn.v9)(vn.Z.getName),v=(0,xn.v9)(vn.Z.getEmail),b=(0,xn.v9)(vn.Z.getAvatar),j=(0,xn.v9)(vn.Z.getUserId);(0,jn.useEffect)((function(){var n=function(){var n=(0,A.Z)(L().mark((function n(){var e,r,i,o,a,s,c,l,p;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e={},r=(0,C.Z)(t),n.prev=2,r.s();case 4:if((i=r.n()).done){n.next=16;break}return o=i.value,a=(0,kn.JU)(Pn.RZ,"userPost",o.id),s=(0,kn.hJ)(a,"comments"),c=(0,kn.IO)(s),n.next=11,(0,kn.PL)(c);case 11:l=n.sent,p=l.size,e[o.id]=p;case 14:n.next=4;break;case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(2),r.e(n.t0);case 21:return n.prev=21,r.f(),n.finish(21);case 24:u(e);case 25:case"end":return n.stop()}}),n,null,[[2,18,21,24]])})));return function(){return n.apply(this,arguments)}}();n()}),[t]),(0,jn.useEffect)((function(){var n=(0,kn.cf)((0,kn.hJ)(Pn.RZ,"userPost"),(function(n){var e={};n.forEach((function(n){var t=n.id,r=n.data().likedByUser||{};e[t]=r})),s(e)}));return function(){n()}}),[]),(0,jn.useEffect)((function(){var n=function(){var n=(0,A.Z)(L().mark((function n(){var e,t,i,o;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,kn.hJ)(Pn.RZ,"userPost"),t=(0,kn.IO)(e,(0,kn.ar)("userId","==",j),(0,kn.Xo)("createdAt")),n.next=4,(0,kn.PL)(t);case 4:i=n.sent,o=i.docs.map((function(n){return(0,q.Z)({id:n.id},n.data())})),r(o.reverse());case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[j]);var w=function(){var n=(0,A.Z)(L().mark((function n(){var e,t;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!f){n.next=13;break}return e=(0,wn.iH)(Pn.tO,"userAvatar/"+j),n.next=5,(0,wn.KV)(e,f);case 5:return n.next=7,(0,wn.Jt)(e);case 7:return t=n.sent,n.next=10,(0,yn.ck)(Pn.I8.currentUser,{photoURL:t});case 10:g(bn.G.actions.updateAvatar(t)),h(null),zn.Am.success("Avatar updated successfully.");case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),console.log("Error updating avatar:",n.t0),gn().Notify.failure("Failed to update avatar. Please try again.");case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,A.Z)(L().mark((function n(e){var t,i,o,a,s,c,l,p,u;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=Pn.I8.currentUser.uid,i=(0,kn.JU)(Pn.RZ,"userPost",e),n.next=5,(0,kn.QT)(i);case 5:return o=n.sent,a=o.data(),s=a.likes||0,c=a.likedByUser&&a.likedByUser[t],!0===c?(l=s-1,delete(p=(0,q.Z)({},a.likedByUser))[t]):(l=s+1,p=(0,q.Z)((0,q.Z)({},a.likedByUser),{},(0,U.Z)({},t,!0))),u={likes:l,likedByUser:p},n.next=14,(0,kn.r7)(i,u);case 14:r((function(n){return n.map((function(n){return n.id===e?(0,q.Z)((0,q.Z)({},n),{},{likes:l,likedByUser:p}):n}))})),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043b\u0430\u0439\u043a\u0430:",n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}();return(0,Un.jsxs)(Zn.Z,{children:[(0,Un.jsxs)(_,{children:[(0,Un.jsx)(G,{children:"Profile"}),(0,Un.jsx)(H,{children:(0,Un.jsx)(T,{size:30,onClick:function(){gn().Confirm.show("Confirmation","Are you sure you want to log out?","Yes","No",(function(){g((0,un.e5)()),Z("/Login")}),(function(){}))}})})]}),(0,Un.jsxs)(V,{children:[(0,Un.jsx)(Q,{children:m}),(0,Un.jsxs)(X,{children:[(0,Un.jsx)(Y,{src:b,alt:"userAvatar"}),(0,Un.jsx)("label",{htmlFor:"inputFile",children:(0,Un.jsx)(K,{size:30})}),(0,Un.jsx)(D,{type:"file",accept:"image/*",id:"inputFile",onChange:function(n){var e=n.target.files[0];h(e)}}),(0,Un.jsx)(M,{onClick:w,children:"Update Foto"})]}),(0,Un.jsx)(W,{children:v}),0===t.length?(0,Un.jsx)(S,{children:"No posts found."}):(0,Un.jsx)($,{children:t.map((function(n){return(0,Un.jsxs)(nn,{children:[(0,Un.jsx)(en,{src:n.imageURL,alt:"Post",loading:"lazy"}),(0,Un.jsx)(tn,{children:n.title}),(0,Un.jsxs)(rn,{children:[(0,Un.jsx)(on,{children:(0,Un.jsxs)(fn.rU,{to:"/comments/".concat(n.id),children:[(0,Un.jsx)(cn,{size:30,color:"aqua"}),(0,Un.jsx)(sn,{children:p[n.id]})]})}),(0,Un.jsxs)(on,{children:[(0,Un.jsx)(ln,{size:30,color:a[n.id]?"aqua":"gold",onClick:function(){return P(n.id,n.userId)}}),(0,Un.jsx)(an,{children:a[n.id]?n.likes:a[n.id]})]}),(0,Un.jsx)(on,{children:(0,Un.jsx)(pn,{size:30,color:"aqua"})})]})]},n.id)}))}),(0,Un.jsx)(mn.Z,{})]})]})}}}]);
//# sourceMappingURL=156.1334856a.chunk.js.map